\documentclass[12pt]{article}
\pagestyle{plain} 
\usepackage[operators,lambda,keys,sets,primitives,adversary,asymptotics,advantage]{cryptocode}
\usepackage{notations}
%\usepackage{bm}
\usepackage{mdframed}
\usepackage{enumitem}
\usepackage{amsthm}
\usepackage{amsmath,amssymb}
\usepackage[utf8x]{inputenc}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{xspace}
\usepackage[normalem]{ulem}
\usepackage{comment}
\usepackage{multirow}
%\usepackage[subtle]{savetrees}
\usepackage[hidelinks]{hyperref}
\usepackage{url}
\usepackage{authblk}
%\usepackage{draftwatermark}
\usepackage[legalpaper, margin=1in]{geometry}
%\usepackage{thmtools}
%\usepackage{thm-restate}
%\declaretheorem[name=Theorem]{theorem}

%Theorems
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{theorem*}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{assumption}{Assumption}
\newtheorem{fact}{Fact}
%\newtheorem{corollary}{Corollary}
\usepackage{etoolbox}
\patchcmd{\paragraph}{\itshape}{\bfseries\boldmath}{}{}

\newif\ifcomments
\commentstrue


\ifcomments
	\newcommand{\benedikt}[1]{{\textcolor{red}{[Benedikt: #1]}}}
	\newcommand{\ben}[1]{{\textcolor{green}{[Ben: #1]}}}
	\newcommand{\alan}[1]{{\todo[color=blue!40!white]{Alan: #1}}}
	\newcommand{\alaninline}[1]{{\todo[color=blue!20!white, inline]{Alan: #1}}}
		\newcommand{\ignore}[1]{}

	\else
	\newcommand{\benedikt}[1]{}
	\newcommand{\ben}[1]{}
	\newcommand{\alan}[1]{}
	\newcommand{\alaninline}[1]{}
	\fi

\newif\ifappendix
\appendixfalse
\newcommand{\appendixphrase}{Appendix}


\begin{document}

\title{Transparent SNARKs from DARK Compilers}
 \author[1]{Benedikt B\"unz}
 \author[1]{Ben Fisch} 
 \author[2]{Alan Szepieniec} 
 \affil[1]{Stanford University, Findora}
  \affil[2]{Nervos Foundation}

\maketitle

\begin{abstract} 
We construct a new polynomial commitment scheme for univariate and multivariate polynomials over finite fields, with public-coin evaluation proofs that have logarithmic communication and verification cost in the number of coefficients of the polynomial. The underlying technique is a \emph{Diophantine Argument of Knowledge} (DARK), leveraging integer representations of polynomials and groups of unknown order. Security is shown from the strong RSA and the adaptive root assumption. Moreover, the scheme does not require a trusted setup if instantiated with class groups. We apply this new cryptographic compiler to a restricted class of algebraic linear IOPs in order to obtain doubly-efficient public-coin IPs with succinct communication and witness-extended emulation for any NP relation. Allowing for linear preprocessing, the online verifier's work is logarithmic in the circuit complexity of the relation.

In particular, we obtain quasi-linear prover time when compiling the IOP employed in Sonic (MBKM, CCS 19). Applying the Fiat-Shamir transform in the random oracle model results in a SNARK system with quasi-linear preprocessing, quasi-linear (online) prover time, logarithmic proof size, and logarithmic (online) verification time for arbitrary circuits. The SNARK is also concretely efficient with $8.4$KB proofs and $75$ms verification time for circuits with 1 million gates. Most importantly, this SNARK is \emph{transparent}: it does not require a trusted setup. We also obtain zk-SNARKs by applying a variant of our polynomial commitment scheme that is hiding and offers zero-knowledge evaluation proofs. This construction is the first transparent zk-SNARK that has both a practical prover time as well as asymptotically \emph{logarithmic} proof size and verification time (concretely a $70\times$ reduction in proof size over the state-of-the-art). We call our system \textsf{\textbf{Supersonic}}.

\end{abstract} 

\section{Introduction}
\input{sections/intro} 
\section{Technical Overview}\label{sec:overview} 
\input{sections/overview}
\section{Preliminaries}
\input{sections/preliminaries}

\section{Polynomial Commitments from Groups of Unknown Order}
\label{sec:protocol}
\input{sections/mainprotocol}

\section{Transparent SNARKs via Polynomial IOPs}\label{sec:polyiop}
\input{lineariop}

\section{Evaluation}
\input{sections/evaluation}


\begin{comment} 
\section{Conclusion}

The compilation of a SNARK for general purpose computations is generally divisible into three phases. First is \emph{arithmetization}, in which the computation is expressed as a satisfaction problem over some algebra. Second is \emph{information-theoretic compilation}, in which the algebraic problem is transformed into an interactive protocol for proving satisfiability or knowledge of witness for the algebraic claim. The third and last step is \emph{cryptographic compilation}, in which information-theoretical and ideal components in the information-theoretical protocol are replaced by cryptographic components, thereby realizing the abstract object at the cost of computational security. 

In the context of this three-pass compilation process, DARK protocols inhabit the last phase. Our polynomial commitment scheme based on groups of unknown order represents an alternative to similar schemes based on powers-of-$\tau$ or Merkle trees of Reed-Solomon codewords. Any SNARK construction that uses these latter schemes as black boxes can be lifted to the DARK family by replacing the polynomial commitment scheme. When the DARK protocol is instantiated with class groups, this replacement obviates the need for a trusted setup.

The polynomial commitment scheme presented by this paper highlights the need for a theoretical framework where such a tool is a native first-order member.  The information-theoretical Polynomial IOP formalism provides exactly such a framework. Upon inspection it is found to capture SNARK constructions such as Sonic and STARK, indicating conceptual soundness. The slightly more general Algebraic Linear IOP captures more SNARK constructions still. While all IOPs can be instantiated with DARK protocols, in the Algebraic Linear case, a quasilinear prover time can no longer be guaranteed. 

By design, the IOP formalisms make abstraction of the cryptographic assumptions used in the layer underneath. As a result, the IOP formalisms fail to capture fully the expressive power of Diophantine Complexity. An interesting question left open by this work is the potential of algebraic IOPs where the proofs represent integers rather than polynomials or vectors over a finite field. An associated question is the search for alternative algebras that naturally commit to integers --- not just alternative groups of unknown order which, while an interesting research project, admit Shor's quantum order finding algorithm~\cite{conf/focs/Shor94} and therefore necessarily fail to provide post-quantum security. The converse is yet another interesting open question: is it possible to instantiate Polynomial IOPs or polynomial commitment schemes with other algebras and hard problems, beyond groups of unknown order and Merklte trees of Reed-Solomon codes --- for instance, from elliptic curve groups and based on the hardness of the discrete logarithm, or based on post-quantum hard problems that are more expressive than generic hash functions.

The cryptographic hardness assumptions underlying the security of SNARK constructions are rarely falsifiable, and this seems to be a by-product of the cryptographic compilation process. In powers-of-alpha type constructions the unfalsifiable hardness assumption is inherently algebraic. In contrast, the hardness assumption of groups of unknown order \emph{are} falsifiable; it is only the Fiat-Shamir heuristic for $\mathsf{polylog}$-many round protocols that is unfalsifiable because it is only provably secure in the random oracle model; a security reduction of such heuristics to standard assumptions is as yet unavailable.
\end{comment}

\bibliographystyle{alpha}
{\footnotesize
  \bibliography{cryptobib/abbrev3,cryptobib/crypto,cryptobib/additional}}

\appendix

\input{appendix} 

\end{document}
